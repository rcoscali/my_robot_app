extends layout

block content
  h1 #{title}
  p Welcome to #{title}

  script(type="text/javascript", src="/javascripts/wait_db.js")
  script(type="text/javascript") do_wait();
  script(type="text/javascript") var binanceKey='#{binanceKey}';
  script(type="text/javascript") var binanceSecret='#{binanceSecret}';
  script(type="text/javascript") var krakenKey='#{krakenKey}';
  script(type="text/javascript") var krakenSecret='#{krakenSecret}';
  script(type="text/javascript") var ftxKey="#{ftxKey}";
  script(type="text/javascript") var ftxSecret='#{ftxSecret}';
  script(type="text/javascript") var ftxSubAccount="#{ftxSubAccount}";
  script(type="text/javascript") var outExchange="#{outExchange}";
  script(type="text/javascript") var outKey="#{outKey}";
  script(type="text/javascript") var outKeySecret="#{outKeySecret}";
  script(type="text/javascript") var outExchangeSubAccount="#{outExchangeSubAccount}";
  
  form(method="get", enctype="application/x-www-form-urlencoded", action="/run")
    table
      tr
        td(colspan="2", bgcolor="#AAAAAA")
          p
            | <em>Input API keys (Keys for exchange platform we listen to orders)</em>
      tr
        td
          p
            a(href="#", onClick="url='/set_api_keys?exchange=binance&Key='+document.getElementById('binance_key').value+'&Secret='+document.getElementById('binance_key_secret').value; window.location=url; ")
                |  set Binance api key

        td
          input(type="text", readonly, id="binance_key", name="binance_key", placeholder="Binance Key to set ...", value="")
          br
          input(type="password", readonly, id="binance_key_secret", name="binance_key_secret", placeholder="Binance Key Secret to set ...", value="")

      tr
        td(colspan="2")
          hr
      tr
        td
          p
            a(href="#", onClick="url='/set_api_keys?exchange=ftx&Key='+document.getElementById('ftx_key').value+'&Secret='+document.getElementById('ftx_key_secret').value+'&SubAccount='+document.getElementById('ftx_subaccount').value; window.location=url; ")
              |  set FTX api key & sub account
        td
          input(type="text", readonly, id="ftx_key", name="ftx_key", placeholder="FTX Key to set ...", value="")
          br
          input(type="password", readonly, id="ftx_key_secret", name="ftx_key_secret", placeholder="FTX Key Secret to set ...", value="")
          br
          input(type="text", readonly, id="ftx_subaccount", name="ftx_subaccount", placeholder="FTX subaccount to set ...", value="")
      tr
        td(colspan="2")
          hr
      tr
        td
          p
            a(href="#", onClick="url='/set_api_keys?exchange=kraken&Key='+document.getElementById('kraken_key').value+'&Secret='+document.getElementById('kraken_key_secret').value; window.location=url; ")
              |  set Kraken api key
        td
          input(type="text", readonly, id="kraken_key", name="kraken_key", placeholder="Kraken Key to set ...", value="")
          br
          input(type="password", readonly, id="kraken_key_secret", name="kraken_key_secret", placeholder="Kraken Key Secret to set ...", value="")
      tr
        td(colspan="2")
          hr
      tr
        td(colspan="2", bgcolor="#AAAAAA")
          p
            | <em>Output API keys (Keys for exchange platform we emit scaled orders)</em>
      tr
        td
          p(center)
            | Output &nbsp;
            select(name="out_exchange", id="out_exchange")
              option(name="ftx", id="ftx", value="ftx", selected)
                | ftx
              option(name="binance", id="binance", value="binance")
                | binance
              option(name="kraken", id="kraken", value="kraken")
                | kraken
            br
            a(href="#", onClick="url='/set_out_api_keys?exchange='+document.getElementById('outexchange').selected+'&Key='+document.getElementById('outkey').value+'&Secret='+document.getElementById('outkey_secret').value; window.location=url; ")
              | set out exchange API keys
        td
          input(type="text", readonly, id="outkey", name="outkey", placeholder="Output Key to set ...", value="")
          br
          input(type="password", readonly, id="outkey_secret", name="outkey_secret", placeholder="Output Key Secret to set ...", value="")
	  br
          input(type="text", readonly, id="out_exchange_subaccount", name="out_exchange_subaccount", placeholder="Output exchange sub account to use ...", value="")
  input(type="button", id="run_button", value="Run", onClick="document.location.href='/run'", hidden)
  script(type="text/javascript", src="/javascripts/set_keys.js")
